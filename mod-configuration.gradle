def findVersions(version) {
	def uteamcore_version = 	[	
						"1.15.2":"3.0.2.169",
						"1.16.1":"3.1.4.182",
						"1.16.2":"3.1.9.180",
						"1.16.3":"3.1.12.185",
						"1.16.4":"3.1.14.188"
					]

	def jei_version = 		[	
						"1.15.2":"1.15.2:6.0.2.12",
						"1.16.1":"1.16.1:7.0.0.6",
						"1.16.2":"1.16.2:7.3.2.25",
						"1.16.3":"1.16.3:7.6.0.49",
						"1.16.4":"1.16.4:7.6.0.58"
					]
					
	def patchouli_version = 	[	
						"1.15.2":"1.15.2-1.2-29.151",
						"1.16.1":"1.16-39",
						"1.16.2":"1.16-42",
						"1.16.3":"1.16.2-47",
						"1.16.4":"1.16.4-48"
					]
					
	def curios_version = 		[	
						"1.16.2":"1.16.2-4.0.0.1",
						"1.16.3":"1.16.3-4.0.2.0",
						"1.16.4":"1.16.4-4.0.3.0"
					]
						
	config.uteamcore.version = uteamcore_version."$version";					
	config.jei.version = jei_version."$version";
	config.patchouli.version = patchouli_version."$version";
	config.curios.version = curios_version."$version";
}

def setupMods() {
	if(config.get("forge").get("mcversion") != null) {
		findVersions(config.forge.mcversion)
	}
}

def getUTeamCoreDependency() {
	return "info.u-team:u_team_core-${config.forge.mcversion}:${config.uteamcore.version}:dev"
}

def getJeiDependency() {
  	return "mezz.jei:jei-${config.jei.version}"
}

def getJeiApiDependency() {
	return getJeiDependency() + ":api"
}

def getPatchouliDependency() {
  	return "vazkii.patchouli:Patchouli:${config.patchouli.version}"
}

def getPatchouliApiDependency() {
  	return getPatchouliDependency() + ":api"
}

def getCuriosDependency() {
  	return "top.theillusivec4.curios:curios-forge:${config.curios.version}"
}

def getCuriosApiDependency() {
	return getCuriosDependency() + ":api"
}

ext {
	setupMods = this.&setupMods
	getUTeamCoreDependency = this.&getUTeamCoreDependency
	getJeiDependency = this.&getJeiDependency
	getJeiApiDependency = this.&getJeiApiDependency
	getPatchouliDependency = this.&getPatchouliDependency
	getPatchouliApiDependency = this.&getPatchouliApiDependency
	getCuriosDependency = this.&getCuriosDependency
	getCuriosApiDependency = this.&getCuriosApiDependency
}
